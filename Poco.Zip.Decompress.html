<!DOCTYPE html>
<html>
<head>
<title>Class Poco::Zip::Decompress</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="author" content="Applied Informatics Software Engineering GmbH and Contributors"/>
<meta name="generator" content="PocoDoc"/>
<link rel="stylesheet" href="css/styles.css" type="text/css"/>
<script type="text/javascript" src="js/iframeResizer.min.js"></script>
<script type="text/javascript" src="js/CollapsibleLists.compressed.js"></script>
</head>
<body>
<div class="header">
<h1 class="namespace"><a href="Poco.Zip.html" class="namespace">Poco::Zip</a></h1>
<h1 class="symbol">class Decompress</h1>
</div>
<div class="body">
<div id="navigation">
<iframe src="navigation.html?expand=library-Zip" onload="iFrameResize(this);" scrolling="no"></iframe>
</div>
<div id="content">
<p>
<b>Library:</b> Zip<br />
<b>Package:</b> Zip<br />
<b>Header:</b> Poco/Zip/Decompress.h</p>
<h2>Description</h2>
<div class="description">
<p><a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a> extracts files from zip files, can be used to extract single files or all files </p>
</div>
<h2>Inheritance</h2>
<p><b>Direct Base Classes: </b><a href="Poco.Zip.ParseCallback.html" title="class Poco::Zip::ParseCallback">ParseCallback</a></p>
<p><b>All Base Classes: </b><a href="Poco.Zip.ParseCallback.html" title="class Poco::Zip::ParseCallback">ParseCallback</a></p>
<h2>Member Summary</h2>
<p><b>Member Functions: </b><a href="Poco.Zip.Decompress.html#32417" title="Poco::Zip::Decompress::decompressAllFiles()">decompressAllFiles</a>, <a href="Poco.Zip.Decompress.html#32418" title="Poco::Zip::Decompress::handleZipEntry()">handleZipEntry</a>, <a href="Poco.Zip.Decompress.html#32421" title="Poco::Zip::Decompress::mapping()">mapping</a></p>
<p><b>Inherited Functions: </b><a href="Poco.Zip.ParseCallback.html#32451" title="Poco::Zip::ParseCallback::handleZipEntry()">handleZipEntry</a></p>
<h2>Types</h2>
<h3><a id="32408">ZipMapping</a></h3>
<p class="decl">typedef std::map &lt; std::string, <a href="Poco.Path.html" title="class Poco::Path">Poco::Path</a> &gt; <a href="Poco.Zip.Decompress.html#32408" title="Poco::Zip::Decompress::ZipMapping">ZipMapping</a>;</p>
<div class="description">
<p>Maps key of FileInfo entries to their local decompressed representation </p>
</div>
<h2>Constructors</h2>
<h3><a id="32411">Decompress</a></h3>
<p class="decl"><a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a>(<br />&nbsp;&nbsp;&nbsp;&nbsp;std::istream &amp; in,<br />&nbsp;&nbsp;&nbsp;&nbsp;const <a href="Poco.Path.html" title="class Poco::Path">Poco::Path</a> &amp; outputDir,<br />&nbsp;&nbsp;&nbsp;&nbsp;bool flattenDirs = false,<br />&nbsp;&nbsp;&nbsp;&nbsp;bool keepIncompleteFiles = false<br />);</p>
<div class="description">
<p>Creates the <a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a>. Note that istream must be good and at the very beginning of the file! Calling decompressAllFiles will cause the stream to be in state failed once the zip file is processed. outputDir must be a directory. If it doesn't exist yet, it will be automatically created. If flattenDirs is set to true, the directory structure of the zip file is not recreated.  Instead, all files are extracted into one single directory. </p>
</div>
<h2>Destructor</h2>
<h3><a id="32416">~Decompress</a> <img src="images/virtual.png" alt="virtual" title="virtual" class="icon" /> </h3>
<p class="decl">~<a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a>();</p>
<div class="description">
<p>Destroys the <a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a>. </p>
</div>
<h2>Member Functions</h2>
<h3><a id="32417">decompressAllFiles</a></h3>
<p class="decl"><a href="Poco.Zip.ZipArchive.html" title="class Poco::Zip::ZipArchive">ZipArchive</a> decompressAllFiles();</p>
<div class="description">
<p>Decompresses all files stored in the zip <a href="Poco.File.html" title="class Poco::File">File</a>. Can only be called once per <a href="Poco.Zip.Decompress.html" title="class Poco::Zip::Decompress">Decompress</a> object. Use mapping to retrieve the location of the decompressed files </p>
</div>
<h3><a id="32418">handleZipEntry</a> <img src="images/virtual.png" alt="virtual" title="virtual" class="icon" /> </h3>
<p class="decl">bool handleZipEntry(<br />&nbsp;&nbsp;&nbsp;&nbsp;std::istream &amp; zipStream,<br />&nbsp;&nbsp;&nbsp;&nbsp;const <a href="Poco.Zip.ZipLocalFileHeader.html" title="class Poco::Zip::ZipLocalFileHeader">ZipLocalFileHeader</a> &amp; hdr<br />);</p>
<div class="description">
<p></p>
</div>
<div class="description"><p><b>See also:</b> <a href="Poco.Zip.ParseCallback.html#32451" title="Poco::Zip::ParseCallback::handleZipEntry()">Poco::Zip::ParseCallback::handleZipEntry()</a></p></div>
<h3><a id="32421">mapping</a> <img src="images/inline.png" alt="inline" title="inline" class="icon" /> </h3>
<p class="decl">const <a href="Poco.Zip.Decompress.html#32408" title="Poco::Zip::Decompress::ZipMapping">ZipMapping</a> &amp; mapping() const;</p>
<div class="description">
<p>A <a href="Poco.Zip.Decompress.html#32408" title="Poco::Zip::Decompress::ZipMapping">ZipMapping</a> stores as key the full name of the <a href="Poco.Zip.ZipFileInfo.html" title="class Poco::Zip::ZipFileInfo">ZipFileInfo</a>/<a href="Poco.Zip.ZipLocalFileHeader.html" title="class Poco::Zip::ZipLocalFileHeader">ZipLocalFileHeader</a> and as value the decompressed file If for a <a href="Poco.Zip.ZipFileInfo.html" title="class Poco::Zip::ZipFileInfo">ZipFileInfo</a> no mapping exists, there was an error during decompression and the entry is considered to be corrupt </p>
</div>
<h2>Variables</h2>
<h3><a id="32409">EError</a></h3>
<p class="decl"><a href="Poco.FIFOEvent.html" title="class Poco::FIFOEvent">Poco::FIFOEvent</a> &lt; std::pair &lt; const <a href="Poco.Zip.ZipLocalFileHeader.html" title="class Poco::Zip::ZipLocalFileHeader">ZipLocalFileHeader</a>, const std::string &gt; &gt; <a href="Poco.Zip.Decompress.html#32409" title="Poco::Zip::Decompress::EError">EError</a>;</p>
<div class="description">
<p>Thrown whenever an error is detected when handling a <a href="Poco.Zip.ZipLocalFileHeader.html" title="class Poco::Zip::ZipLocalFileHeader">ZipLocalFileHeader</a> entry. The string contains an error message </p>
</div>
<h3><a id="32410">EOk</a></h3>
<p class="decl"><a href="Poco.FIFOEvent.html" title="class Poco::FIFOEvent">Poco::FIFOEvent</a> &lt; std::pair &lt; const <a href="Poco.Zip.ZipLocalFileHeader.html" title="class Poco::Zip::ZipLocalFileHeader">ZipLocalFileHeader</a>, const <a href="Poco.Path.html" title="class Poco::Path">Poco::Path</a> &gt; &gt; <a href="Poco.Zip.Decompress.html#32410" title="Poco::Zip::Decompress::EOk">EOk</a>;</p>
<div class="description">
<p>Thrown whenever a file was successfully decompressed </p>
</div>
<p class="footer">POCO C++ Libraries 1.9.2-all<br />
Copyright &copy; 2019, <a href="http://pocoproject.org/" target="_blank">Applied Informatics Software Engineering GmbH and Contributors</a></p>

</div>

</div>
</body>
</html>
